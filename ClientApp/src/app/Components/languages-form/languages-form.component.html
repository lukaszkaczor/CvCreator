<h2 class="header">Znajomość języków</h2>

<div class="form">
  <div class="form__list">
    <div class="input-group" *ngFor="let item of data; let i = index">
      <div class="item item--single-line">
        <div class="item__info">
          <h5>{{ item.language }} - {{ item.level }}</h5>
        </div>
        <button class="btn-icon--single-line" (click)="remove(i)">
          <svg
            viewBox="0 0 16 16"
            class="bi bi-x"
            fill="currentColor"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fill-rule="evenodd"
              d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

<form class="form" [formGroup]="form">
  <div class="form__list">
    <div class="single-line">
      <div class="input-group">
        <label class="input-group__label" for="language">Język *</label>
        <input
          type="text"
          class="input-group__input--text"
          name="language"
          id="language"
          formControlName="language"
          [class.border-danger]="language.invalid && language.touched"
        />
        <div
          class="input-group__warnings"
          *ngIf="
            (language.touched && language.invalid) ||
            (formIsInvalid && language.invalid)
          "
        >
          <small *ngIf="language.errors.required" class="form-text warning"
            >To pole jest wymagane.</small
          >
        </div>
      </div>

      <div class="space"></div>

      <div class="input-group">
        <label class="input-group__label" for="level">Poziom *</label>
        <select
          class="input-group__input--text"
          id="level"
          name="level"
          formControlName="level"
          [class.border-danger]="level.invalid && level.touched"
        >
          <option *ngFor="let item of getLanguageLevels()" value="{{ item }}">
            {{ item }}
          </option>
        </select>

        <div
          class="input-group__warnings"
          *ngIf="
            (level.touched && level.invalid) || (formIsInvalid && level.invalid)
          "
        >
          <small *ngIf="level.errors.required" class="form-text warning"
            >To pole jest wymagane.</small
          >
        </div>
      </div>
    </div>

    <button class="list__button" (click)="onSubmit($event)">
      Dodaj pozycję
    </button>
  </div>
</form>
