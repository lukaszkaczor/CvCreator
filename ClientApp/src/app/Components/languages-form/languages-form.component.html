<h2 class="header">Znajomość języków</h2>

<div class="item-list margin-top-50">
  <div class="item" *ngFor="let item of data; let i = index">
    <div class="item-info flex-row">
      <h5>{{ item.language }} - {{ item.level }}</h5>
      <button class="button btn-icon" (click)="remove(i)">
        <svg
          width="30px"
          height="30px"
          viewBox="0 0 16 16"
          class="bi bi-x"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
          />
        </svg>
      </button>
    </div>
  </div>
</div>

<form class="input-form" [formGroup]="form">
  <div class="item-list">
    <div class="input-group">
      <label for="language">Język *</label>
      <input
        type="text"
        class="input-text"
        name="language"
        id="language"
        formControlName="language"
        [class.border-danger]="language.invalid && language.touched"
      />
      <div
        *ngIf="
          (language.touched && language.invalid) ||
          (formIsInvalid && language.invalid)
        "
      >
        <small *ngIf="language.errors.required" class="form-text warning"
          >To pole jest wymagane.</small
        >
      </div>
    </div>
    <div class="input-group">
      <label for="level">Poziom *</label>
      <select
        class="input-text"
        id="level"
        name="level"
        formControlName="level"
        [class.border-danger]="level.invalid && level.touched"
      >
        <option *ngFor="let item of getLanguageLevels()" value="{{ item }}">
          {{ item }}
        </option>
      </select>

      <div
        *ngIf="
          (level.touched && level.invalid) || (formIsInvalid && level.invalid)
        "
      >
        <small *ngIf="level.errors.required" class="form-text warning"
          >To pole jest wymagane.</small
        >
      </div>
    </div>

    <button class="button-add" (click)="onSubmit($event)">Dodaj pozycję</button>
  </div>
</form>
